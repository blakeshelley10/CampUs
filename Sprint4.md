## Frontend Work Completed:

## Backend Work Completed:
-
- Added new backend tests for user-created and user-saved events. These tests go along with the simpler CRUD operation tests to allow us to test our back end functionality as we develop new backend routes. 
- Fixed a backend testing bug from sprint 2 which didn't properly test functions that used mux variables. We used the "SetURLVars" function present in the github.com/gorilla/mux api to directly inject mux variables into the test http request, fixing the bug.

## Frontend Unit Tests Added:

## Backend Unit Tests Added :
### Mux Varibles Injection Tests (Bug Fix)
- Updated the get, update, and delete CRUD operations for both the user and event objects. Previously, since these routes utilize mux, we were not able to test them properly as the routes could not access the mux varibles present in a typical URL. However, because of the "SetURLVars" function from the github.com/gorilla/mux api, we are able to directly inject mux variables into the http request This allows us to simulate a typical URL and http request without having to use normal mux routing. 

### User Created and User Saved Tests
- Since the CreateUserEvent route and SaveEvents route are more useful for the frontend than the basic CRUD routes, it's important to have testing routes to test them alongside the other routes. These new tests make use of test events already created through CRUD routes but further test the backend functionality by sending usernames and event names as mux variables and searching the database for both users and events.

## Backend API Documentation:
### User CRUD Routes
- Integrated a GetAllUsers function which receives a GET request. This function allows the backend team to receive all the users who have created an account in our website. The function creates an empty User struct and then uses the "Find" GORM function to find all structs in the database containing the same format as User. It then responds with JSON data with a 200 status code.
- Integrated a GetUser function which receives a GET request. This function allows the backend team to receive a specific user who has created an account in our website. The function uses the "mux.Vars(r)" function to extract the variables from the incoming request's URL. The variables are returned as a map where the keys are the variable names defined in the URL path and the values are the actual values specified in the request. The function then finds the value containing the key similar to the username passed in the URL and uses the "findUser" function to find that user in the database. If successful, the function responds with a status code 200 and the user's data. If not, it returns nothing. 
- Integrated a CreateUser function which receives a POST request. This function allows the backend team to create new users and store them in the database. The function creates a new empty User struct, decodes the information received as an http.Request, and stores this information in the new empty User struct. It then hashes the password in the database and saves the entire struct inside the database. Finally, it returns a 201 status code if successful.
- Integrated an UpdateUser function which receives a POST request. This function allows the backend to update a user already stored in the database. The function uses the "mux.Vars(r)" function to extract the variables from the incoming request's URL. The variables are returned as a map where the keys are the variable names defined in the URL path and the values are the actual values specified in the request. The function then finds the value containing the key similar to the username passed in the URL and uses the "findUser" function to find that user in the database. Once found, the function will then decode the information sent through the http.Request and replace the data in the old struct with the data that it decoded. It then saves that updated struct and returns a 201 status code.
- Integrated a DeleteUser function which receives a POST request. This function allows the backend to delete a user already stored in the database. This function allows the backend to update a user already stored in the database. The function uses the "mux.Vars(r)" function to extract the variables from the incoming request's URL. The variables are returned as a map where the keys are the variable names defined in the URL path and the values are the actual values specified in the request. The function then finds the value containing the key similar to the username passed in the URL and uses the "findUser" function to find that user in the database. Once found, it uses the "Delete" function to remove that struct from the database and returns a 200 status code.
- Integrated a findUser function used by the backend team to find a user in the other functions listed above and below this document. The function creates an empty User Struct and uses the "Find" function to locate a user in the database through their username. It then stores that user's information in the newly created User struct and returns a reference to that struct which other functions will utilize.

### User Authentication Routes
- Integrated a RegisterUser function which receives a POST request. This function allows users to create an account on our website using their first name, last name, email, username, and password. The function is similar to the function CreateUser, except after hashing the password, the function checks whether this username already exists in the database through the "Where" function. If the username has already been taken by another user, the website will prompt the user to try registering again with a different username. After the user successfully registers their account, the backend will store this information in a User struct inside the website's database.   
- Integrated a LogIn function which receives a POST request. This function allows users to login to their account that they previously signed up with. The function is similar to the function CreateUser, except after hashing the password, the function checks whether this username already exists in the database through the "Where" function. When the user logs in, if their username or password is incorrect, or if it does not even exist in the database, the website will tell the user that one of the fields (username or passoword) is incorrect and prompt the user to try logging in again.

### Event CRUD Routes
- Integrated a GetAllEvents function which receives a GET request. This function allows the backend team to receive all the users who have created an account in our website. The function creates an empty User struct and then uses the "Find" GORM function to find all structs in the database containing the same format as User. It then responds with JSON data with a 200 status code.
- Integrated a GetEvent function which receives a GET request. This function allows the backend team to receive a specific user who has created an account in our website. The function uses the "mux.Vars(r)" function to extract the variables from the incoming request's URL. The variables are returned as a map where the keys are the variable names defined in the URL path and the values are the actual values specified in the request. The function then finds the value containing the key similar to the event name passed in the URL and uses the "findEvent" function to find that user in the database. If successful, the function responds with a status code 200 and the user's data. If not, it returns nothing. 
- Integrated a CreateEvent function which receives a POST request. This function allows the backend team to create new users and store them in the database. The function creates a new empty Event struct, decodes the information received as an http.Request, and stores this information in the new empty User struct.
- Integrated an UpdateEvent function which receives a POST request. This function allows the backend to update an event already stored in the database. The function uses the "mux.Vars(r)" function to extract the variables from the incoming request's URL. The variables are returned as a map where the keys are the variable names defined in the URL path and the values are the actual values specified in the request. The function then finds the value containing the key similar to the name passed in the URL and uses the "findEvent" function to find that user in the database. Once found, the function will then decode the information sent through the http.Request and replace the data in the old struct with the data that it decoded. It then saves that updated struct and returns a 201 status code.
- Integrated a DeleteEvent function which receives a POST request. This function allows the backend to delete a user already stored in the database. This function allows the backend to update a user already stored in the database. The function uses the "mux.Vars(r)" function to extract the variables from the incoming request's URL. The variables are returned as a map where the keys are the variable names defined in the URL path and the values are the actual values specified in the request. The function then finds the value containing the key similar to the username passed in the URL and uses the "findUser" function to find that user in the database. Once found, it uses the "Delete" function to remove that struct from the database and returns a 200 status code.
- Integrated a findEvent function used by the backend team to find an event in the other functions listed above and below this document. The function creates an empty Event Struct and uses the "Find" function to locate an event in the database by its name. It then stores that event's information in the newly created Event struct and returns a reference to that struct which other functions will utilize.
- Integrated a SearchEvent function that can be used to find other events similar to a target event. The function takes in an event struct and uses that struct to build a gorm "where" clause based off of that event's characteristics. It then uses that where clause and the gorm "Find" function to search the database for events that are similar to the target event. It then returns a 200 statusOK and an array of similar events in a JSON package.

### File Upload Routes 
- Integrated an UploadFile function which will be used to allow users to upload a file while signed into their account. The backend parses a multipart form data and saves it inside a folder called "uploaded-file" under the filename by using the os.Create and the io.Copy functions.
- Integrated an UploadUserPFP function which will be used to specifically allow users to upload their profile pictures under their account. It is similar to the UploadFile function, however, it has a few more steps. Firstly, it will extract the user's username from the receiving url and use this to store their profile picture under a folder named after that. After parsing the multipart data form, the function will save it under the path "user-profile-images/username/handler.Filename", where the username is the user's actual username and the handler.Filename is the name of the profile picture that was uploaded by that user. In addition to using the os.Create and io.Copy functions to save the image, it will also use the os.MkdirAll function to actually create a subfolder titled the user's username.

### Password Helper Functions
- Used the crypto/bcrypt GoLang library in order to hash passwords entered by the user. Two functions were created called HashPassword and CheckPasswordHash which hashes the user's password when registering for an account and checks if the user's password is correct when loging in, respectively. The first function uses the bcrypt.GenerateFromPassword to hash the password and the second function uses the bcrypt.CompareHashAndPassword to check if the inputted password is correct.
- Created a function called "Password" which is used when registering a user in order to check for password entropy. It checks if the password has an upper case letter, lower case letter, number, symbol, and is greater than eight letters.

## Video Link: [Sprint 4 - CampUs]()

## Github Link: [CampUs Github](https://github.com/blakeshelley10/CampUs)
